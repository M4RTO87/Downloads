---------- CREACION DE TABLAS ----------

----- TABLA TIPO_PROPIEDAD -----

CREATE TABLE TIPO_PROPIEDAD(
    ID_TIPO_PROPIEDAD VARCHAR2(1) NOT NULL PRIMARY KEY,
    DESC_TIPO_PROPIEDAD VARCHAR2(30)NOT NULL
);

----- TABLA COMUNA -----

CREATE TABLE COMUNA(
    ID_COMUNA NUMBER(3) NOT NULL PRIMARY KEY,
    NOMBRE_COMUNA VARCHAR2(30)NOT NULL
);

----- TABLA ESTADO_CIVIL -----

CREATE TABLE ESTADO_CIVIL(
    ID_ESTCIVIL NUMBER(1)NOT NULL PRIMARY KEY,
    DESC_ESTCIVIL VARCHAR2(25)NOT NULL
);

----- TABLA PROPIETARIO -----

CREATE TABLE PROPIETARIO(
    NUMRUT_PROP NUMBER (10)NOT NULL PRIMARY KEY,
    DVRUT_PROP VARCHAR2 (1)NOT NULL,
    APPATERNO_PROP VARCHAR2(30)NOT NULL,
    APMATERNO_PROP VARCHAR2(30)NOT NULL,
    NOMBRE_PROP VARCHAR2(30)NOT NULL,
    DIRECCION_PROP VARCHAR2(60)NOT NULL,
    FONOFIJO_PROP VARCHAR2(15)NOT NULL,
    CELULAR_PROP VARCHAR2(15),
    ID_ESTCIVIL NUMBER(1)NOT NULL,
    ID_COMUNA NUMBER (3),
    CONSTRAINT FK_PROPIETARIO_COMUNA FOREIGN KEY (ID_COMUNA) REFERENCES COMUNA(ID_COMUNA),
    CONSTRAINT FK_PROPIETARIO_ESTADO_CIVIL FOREIGN KEY (ID_ESTCIVIL) REFERENCES ESTADO_CIVIL(ID_ESTCIVIL)
);

----- TABLA EMPLEADO -----

CREATE TABLE EMPLEADO(
    NUMRUT_EMP NUMBER(10)NOT NULL PRIMARY KEY,
    DVRUT_EMP VARCHAR2(1)NOT NULL,
    APPATERNO_EMP VARCHAR2(30)NOT NULL,
    APMATERNO_EMP VARCHAR2(30)NOT NULL,
    NOMBRE_EMP VARCHAR2(30)NOT NULL,
    DIRECCION_EMP VARCHAR2(60)NOT NULL,
    FONOFIJO_EMO VARCHAR2(15)NOT NULL,
    CELULAR_EMP VARCHAR2(15),
    FECHA_NACI_EMP DATE,
    FECHA_ING_EMP DATE NOT NULL,
    SUELDO_EMP NUMBER(7)NOT NULL,
    ID_CATEGORIA_EMP NUMBER(1),
    ID_COMUNA NUMBER(3),
    ID_ESTCIVIL NUMBER(1)NOT NULL,
    CONSTRAINT FK_EMPLEADO_COMUNA FOREIGN KEY (ID_COMUNA) REFERENCES COMUNA(ID_COMUNA),
    CONSTRAINT FK_EMPLEADO_ESTADO_CIVIL FOREIGN KEY (ID_ESTCIVIL) REFERENCES ESTADO_CIVIL(ID_ESTCIVIL)
);

----- TABLA CLIENTE -----

CREATE TABLE CLIENTE(
    NUMRUT_CLI NUMBER(8)NOT NULL PRIMARY KEY,
    DV_RUT_CLI VARCHAR2(1)NOT NULL,
    APPATERNO_CLI VARCHAR2(30)NOT NULL,
    APMATERNO_CLI VARCHAR2(30)NOT NULL,
    NOMBRE_CLI VARCHAR2(30)NOT NULL,
    DIRECCION_CLI VARCHAR2(60)NOT NULL,
    FONOFIJO_CLI VARCHAR2(15)NOT NULL,
    CELULAR_CLI VARCHAR2(15),
    RENTA_CLI NUMBER(7)NOT NULL,
    ID_ESTCIVIL NUMBER(1)NOT NULL,
    CONSTRAINT FK_CLIENTE_ESTADO_CIVIL FOREIGN KEY (ID_ESTCIVIL) REFERENCES ESTADO_CIVIL(ID_ESTCIVIL)
);
CLIENTE(NUMRUT_CLI,DV_RUT_CLI,APPATERNO_CLI,APPATERNO_CLI,NOMBRE_CLI,DIRECCION_CLI,ID_ESTCIVIL,FONOFIJO_CLI)

----- TABLA PROPIEDAD -----

CREATE TABLE PROPIEDAD(
    NRO_PROPIEDAD NUMBER(6)NOT NULL PRIMARY KEY,
    DIRECCION_PROPIEDAD VARCHAR2(60)NOT NULL,
    SUPERFICIE NUMBER(8,2)NOT NULL,
    VALOR_ARRIENDO NUMBER(7)NOT NULL,
    VALOR_CASTO_COMUN NUMBER(6),
    NRO_DORMITORIOS NUMBER(2),
    NRO_BAÑOS NUMBER(1),
    NUMRUT_EMP NUMBER(10),
    NUMRUT_PROP NUMBER(10)NOT NULL,
    ID_TIPO_PROPIEDAD VARCHAR2(1)NOT NULL,
    ID_COMUNA NUMBER(3)NOT NULL,
    CONSTRAINT FK_PROPIEDAD_EMPLEADO FOREIGN KEY  (NUMRUT_EMP) REFERENCES EMPLEADO( NUMRUT_EMP),
    CONSTRAINT FK_PROPIEDAD_PROPIETARIO FOREIGN KEY (NUMRUT_PROP) REFERENCES PROPIETARIO(NUMRUT_PROP),
    CONSTRAINT FK_PROPIEDAD_TIPO_PROPIEDAD FOREIGN KEY (ID_TIPO_PROPIEDAD) REFERENCES TIPO_PROPIEDAD(ID_TIPO_PROPIEDAD),
    CONSTRAINT FK_PROPIEDAD_COMUNA FOREIGN KEY (ID_COMUNA) REFERENCES COMUNA(ID_COMUNA) 
);

----- TABLA PROPIEDAD_ARRENDADA -----

CREATE TABLE PROPIEDAD_ARRENDADA(
    NRO_PROPIEDAD NUMBER(6)NOT NULL,
    FECHA_INI_ARRIENDO DATE NOT NULL,
    PRIMARY KEY (NRO_PROPIEDAD,FECHA_INI_ARRIENDO),
    FECHA_TER_ARRIENDO DATE,
    NUMRUT_CLI NUMBER(10)NOT NULL,
    CONSTRAINT FK_PROPIEDAD_ARRENDADA_CLIENTE FOREIGN KEY (NUMRUT_CLI) REFERENCES CLIENTE(NUMRUT_CLI),
    CONSTRAINT FK_PROPIEDAD_ARRENDADA_PROPIEDAD FOREIGN KEY  (NRO_PROPIEDAD) REFERENCES PROPIEDAD( NRO_PROPIEDAD)
);

---------- INSERCION DE DATOS ----------

----- INSERCION TIPO_PROPIEDAD -----

INSERT INTO TIPO_PROPIEDAD(ID_TIPO_PROPIEDAD, DESC_TIPO_PROPIEDAD) VALUE
('A','Casa sin Amoblar');
INSERT INTO TIPO_PROPIEDAD(ID_TIPO_PROPIEDAD, DESC_TIPO_PROPIEDAD) VALUE
('B','Casa Amoblada');
INSERT INTO TIPO_PROPIEDAD(ID_TIPO_PROPIEDAD, DESC_TIPO_PROPIEDAD) VALUE
('C','Departamento sin Amoblar');
INSERT INTO TIPO_PROPIEDAD(ID_TIPO_PROPIEDAD, DESC_TIPO_PROPIEDAD) VALUE
('D','Departamento Amoblado');
INSERT INTO TIPO_PROPIEDAD(ID_TIPO_PROPIEDAD, DESC_TIPO_PROPIEDAD) VALUE
('E','Local Comercial');
INSERT INTO TIPO_PROPIEDAD(ID_TIPO_PROPIEDAD, DESC_TIPO_PROPIEDAD) VALUE
('C','Departamento sin Amoblar');

----- INSERCION COMUNA -----

INSERT INTO COMUNA(ID_COMUNA,NOMBRE_COMUNA) VALUES (80,'Las Condes');
INSERT INTO COMUNA(ID_COMUNA,NOMBRE_COMUNA) VALUES (81,'Providencia');
INSERT INTO COMUNA(ID_COMUNA,NOMBRE_COMUNA) VALUES (82,'Santiago');
INSERT INTO COMUNA(ID_COMUNA,NOMBRE_COMUNA) VALUES (83,'Ñuñoa');
INSERT INTO COMUNA(ID_COMUNA,NOMBRE_COMUNA) VALUES (84,'Vitacura');

----- INSERCION ESTADO_CIVIL -----

INSERT INTO ESTADO_CIVIL(ID_ESTCIVIL,DESC_ESTCIVIL)VALUE(1,'Soltrero');
INSERT INTO ESTADO_CIVIL(ID_ESTCIVIL,DESC_ESTCIVIL)VALUE(2,'Casado');
INSERT INTO ESTADO_CIVIL(ID_ESTCIVIL,DESC_ESTCIVIL)VALUE(3,'Separado');
INSERT INTO ESTADO_CIVIL(ID_ESTCIVIL,DESC_ESTCIVIL)VALUE(4,'Divorciado');
INSERT INTO ESTADO_CIVIL(ID_ESTCIVIL,DESC_ESTCIVIL)VALUE(5,'Viudo');

----- INSERCION PROPIETARIO -----

INSERT INTO PROPIETARIO (NUMRUT_PROP, DVRUT_PROP, APPATERNO_PROP, APMATERNO_PROP, NOMBRE_PROP, DIRECCION_PROP, FONOFIJO_PROP, CELULAR_PROP, ID_ESTCIVIL, ID_COMUNA) VALUES
(124911094, '3', 'SAAVEDRA', 'VILLALOBOS', 'SERGIO', 'VIA 7 N°1000 B/3 D/7', '22398244', NULL, 5, 82);
INSERT INTO PROPIETARIO (NUMRUT_PROP, DVRUT_PROP, APPATERNO_PROP, APMATERNO_PROP, NOMBRE_PROP, DIRECCION_PROP, FONOFIJO_PROP, CELULAR_PROP, ID_ESTCIVIL, ID_COMUNA) VALUES
(12845970, '4', 'MUÑOZ', 'PEREZ', 'DANIEL', 'SANTA ISABEL 463', '27149204', '27412904', 3, 82);
INSERT INTO PROPIETARIO (NUMRUT_PROP, DVRUT_PROP, APPATERNO_PROP, APMATERNO_PROP, NOMBRE_PROP, DIRECCION_PROP, FONOFIJO_PROP, CELULAR_PROP, ID_ESTCIVIL, ID_COMUNA) VALUES
(12612360, '5', 'BARAHONA', 'ORELLANA', 'JOSE', 'NTRA. SRA. SANTA GENOVEVA 9508', '22871051', NULL, 2, 83);
INSERT INTO PROPIETARIO (NUMRUT_PROP, DVRUT_PROP, APPATERNO_PROP, APMATERNO_PROP, NOMBRE_PROP, DIRECCION_PROP, FONOFIJO_PROP, CELULAR_PROP, ID_ESTCIVIL, ID_COMUNA) VALUES
(12085575, 'k', 'VALENCIA', 'URBINA', 'SERGIO', 'MARIA ELENA 1857 V/LOS NAVIOS', '26291103', '26211095', 3, 82);
INSERT INTO PROPIETARIO (NUMRUT_PROP, DVRUT_PROP, APPATERNO_PROP, APMATERNO_PROP, NOMBRE_PROP, DIRECCION_PROP, FONOFIJO_PROP, CELULAR_PROP, ID_ESTCIVIL, ID_COMUNA) VALUES
(12085970, '0', 'BARRIOS', 'MUÑOZ', 'BARBARA', 'PASAJEL FUCION 5940', '22215014', '26710430', 5, 83);

----- INSERCION EMPLEADO -----

INSERT INTO EMPLEADO (NUMRUT_EMP, DVRUT_EMP, APPATERNO_EMP, APMATERNO_EMP, NOMBRE_EMP, DIRECCION_EMP, FONOFIJO_EMO, CELULAR_EMP, FECHA_NACI_EMP, FECHA_ING_EMP, SUELDO_EMP, ID_CATEGORIA_EMP, ID_COMUNA, ID_ESTCIVIL) VALUES
(11649364, '0', 'GALVEZ', 'CASTRO', 'MARIA', 'CLOVIS MONTERO 2620 D/202', '12317556', '25732124','02/12/1971','18/08/2019', 1152393, 3, 80, 1);
INSERT INTO EMPLEADO (NUMRUT_EMP, DVRUT_EMP, APPATERNO_EMP, APMATERNO_EMP, NOMBRE_EMP, DIRECCION_EMP, FONOFIJO_EMO, CELULAR_EMP, FECHA_NACI_EMP, FECHA_ING_EMP, SUELDO_EMP, ID_CATEGORIA_EMP, ID_COMUNA, ID_ESTCIVIL) VALUES
(12113396, '4', 'TORRES', 'NAVARRO', 'MIGUEL', 'SECTOR MANQUEHUE', '22394501', '29147061','12/09/1978', '07/08/2019', 810137, 3, 81, 4);
INSERT INTO EMPLEADO (NUMRUT_EMP, DVRUT_EMP, APPATERNO_EMP, APMATERNO_EMP, NOMBRE_EMP, DIRECCION_EMP, FONOFIJO_EMO, CELULAR_EMP, FECHA_NACI_EMP, FECHA_ING_EMP, SUELDO_EMP, ID_CATEGORIA_EMP, ID_COMUNA, ID_ESTCIVIL) VALUES
(12465502, '3', 'CANALES', 'BASTIAS', 'JORGE', 'GENERAL CONCHA REBOLLEDO #85', '26938142', '29465753','03/06/1963','18/08/2019', 1329192, 3, 81, 2);
INSERT INTO EMPLEADO (NUMRUT_EMP, DVRUT_EMP, APPATERNO_EMP, APMATERNO_EMP, NOMBRE_EMP, DIRECCION_EMP, FONOFIJO_EMO, CELULAR_EMP, FECHA_NACI_EMP, FECHA_ING_EMP, SUELDO_EMP, ID_CATEGORIA_EMP, ID_COMUNA, ID_ESTCIVIL) VALUES
(12466553, '2', 'VIDAL', 'PEREZ', 'TERESA', 'FCO. DE CAMARGO 14515 D/14', '28583700', '28122603','20/11/1969','13/08/2019', 1202614, 3, 82, 3);
INSERT INTO EMPLEADO (NUMRUT_EMP, DVRUT_EMP, APPATERNO_EMP, APMATERNO_EMP, NOMBRE_EMP, DIRECCION_EMP, FONOFIJO_EMO, CELULAR_EMP, FECHA_NACI_EMP, FECHA_ING_EMP, SUELDO_EMP, ID_CATEGORIA_EMP, ID_COMUNA, ID_ESTCIVIL) VALUES
(11745244, '3', 'VENEGAS', 'SOTO', 'KARINA', 'ARICA 3850', '12797034', '27491194','23/06/1969','18/08/2019', 1439042, 3, 83, 1);

----- INSERCION CLIENTE -----

INSERT INTO CLIENTE (NUMRUT_CLI, DV_RUT_CLI, APPATERNO_CLI, APMATERNO_CLI, NOMBRE_CLI, DIRECCION_CLI, FONOFIJO_CLI, CELULAR_CLI, RENTA_CLI, ID_ESTCIVIL) VALUES
(10639521, '0', 'UVAL', 'RIQUELME', 'MIGUEL', 'SAN PABLO 7545 B/2 DPTO. 12', '26439756', '52710253', 1300000, 5);
INSERT INTO CLIENTE (NUMRUT_CLI, DV_RUT_CLI, APPATERNO_CLI, APMATERNO_CLI, NOMBRE_CLI, DIRECCION_CLI, FONOFIJO_CLI, CELULAR_CLI, RENTA_CLI, ID_ESTCIVIL) VALUES
(13074837, '1', 'AMENGUAL', 'SALDIAS', 'CESAR', 'PJE.CODORNICES 1550 V/EL RODEO', '22168405', '55212406', 1380000, 1);
INSERT INTO CLIENTE (NUMRUT_CLI, DV_RUT_CLI, APPATERNO_CLI, APMATERNO_CLI, NOMBRE_CLI, DIRECCION_CLI, FONOFIJO_CLI, CELULAR_CLI, RENTA_CLI, ID_ESTCIVIL) VALUES
(12251882, '2', 'MORICE', 'DONOSO', 'CLAUDIO', 'CHACABUCO 9519', '26325465', '52710453', 1320000, 3);
INSERT INTO CLIENTE (NUMRUT_CLI, DV_RUT_CLI, APPATERNO_CLI, APMATERNO_CLI, NOMBRE_CLI, DIRECCION_CLI, FONOFIJO_CLI, CELULAR_CLI, RENTA_CLI, ID_ESTCIVIL) VALUES
(10382803, '3', 'SOTO', 'ARAMA', 'JUAN', 'LOS MORELOS 803', '25232003', '92853737', 1250000, 5);
INSERT INTO CLIENTE (NUMRUT_CLI, DV_RUT_CLI, APPATERNO_CLI, APMATERNO_CLI, NOMBRE_CLI, DIRECCION_CLI, FONOFIJO_CLI, CELULAR_CLI, RENTA_CLI, ID_ESTCIVIL) VALUES
(12776043, '5', 'VILLENA', 'CAVERO', 'PABLO', 'NAVIDAD 1345 SEC.LA FAMILIA', '26234565', '27497042', 600000, 3);

----- INSERCION PROPIEDAD -----

INSERT INTO PROPIEDAD (NRO_PROPIEDAD, DIRECCION_PROPIEDAD, SUPERFICIE, VALOR_ARRIENDO, VALOR_CASTO_COMUN, NRO_DORMITORIOS, NRO_BAÑOS, NUMRUT_EMP, NUMRUT_PROP, ID_TIPO_PROPIEDAD, ID_COMUNA) VALUES
(1001, 'Serrano 275', 180, 1250000, NULL, 6, 2, 12911094, 124911094, 'A', 80);
INSERT INTO PROPIEDAD (NRO_PROPIEDAD, DIRECCION_PROPIEDAD, SUPERFICIE, VALOR_ARRIENDO, VALOR_CASTO_COMUN, NRO_DORMITORIOS, NRO_BAÑOS, NUMRUT_EMP, NUMRUT_PROP, ID_TIPO_PROPIEDAD, ID_COMUNA) VALUES
(1002, 'Luis Matte 1471', 81, 240000, 40000, 4, 1, 12113396, 124911094, 'C', 81);
INSERT INTO PROPIEDAD (NRO_PROPIEDAD, DIRECCION_PROPIEDAD, SUPERFICIE, VALOR_ARRIENDO, VALOR_CASTO_COMUN, NRO_DORMITORIOS, NRO_BAÑOS, NUMRUT_EMP, NUMRUT_PROP, ID_TIPO_PROPIEDAD, ID_COMUNA) VALUES
(1003, 'Vicuña Mackenna 945', 62, 350000, 70000, 4, 2, 12651346, 12465905, 'A', 82);
INSERT INTO PROPIEDAD (NRO_PROPIEDAD, DIRECCION_PROPIEDAD, SUPERFICIE, VALOR_ARRIENDO, VALOR_CASTO_COMUN, NRO_DORMITORIOS, NRO_BAÑOS, NUMRUT_EMP, NUMRUT_PROP, ID_TIPO_PROPIEDAD, ID_COMUNA) VALUES
(1004, 'Celerino Pereira 1567', 73, 375000, 40000, 3, 1, 12116360, 12466553, 'B', 83);
INSERT INTO PROPIEDAD (NRO_PROPIEDAD, DIRECCION_PROPIEDAD, SUPERFICIE, VALOR_ARRIENDO, VALOR_CASTO_COMUN, NRO_DORMITORIOS, NRO_BAÑOS, NUMRUT_EMP, NUMRUT_PROP, ID_TIPO_PROPIEDAD, ID_COMUNA) VALUES
(1005, 'Vicuña Mackenna 285', 62, 600000, 50000, 3, 2, 11745244, 12085975, 'C', 84);

----- INSERCION PROPIEDAD_ARRENDADA -----

INSERT INTO PROPIEDAD_ARRENDADA (NRO_PROPIEDAD, FECHA_INI_ARRIENDO, FECHA_TER_ARRIENDO, NUMRUT_CLI) VALUES
(1001, '11/08/2000', '31/03/2005', 12871924);
INSERT INTO PROPIEDAD_ARRENDADA (NRO_PROPIEDAD, FECHA_INI_ARRIENDO, FECHA_TER_ARRIENDO, NUMRUT_CLI) VALUES
(1001, '09/08/2005', '28/02/2010', 12610458);
INSERT INTO PROPIEDAD_ARRENDADA (NRO_PROPIEDAD, FECHA_INI_ARRIENDO, FECHA_TER_ARRIENDO, NUMRUT_CLI) VALUES
(1002, '02/05/2010', NULL, 14526736);
INSERT INTO PROPIEDAD_ARRENDADA (NRO_PROPIEDAD, FECHA_INI_ARRIENDO, FECHA_TER_ARRIENDO, NUMRUT_CLI) VALUES
(1002, '01/02/2012', NULL, 13057574);
INSERT INTO PROPIEDAD_ARRENDADA (NRO_PROPIEDAD, FECHA_INI_ARRIENDO, FECHA_TER_ARRIENDO, NUMRUT_CLI) VALUES
(1003, '05/07/2016', NULL, 12467533);
